# До/После с помощью CSS и 1 строчки JS

Деплой: https://vikhri.github.io/before-after-range/


### Используются: 
css переменные, маски, линейный градиент

## Как это работает:

Разметка представляет собой контейнер с 2-мя картинками и input[type="range"].

Шаг 1. Ставим картинки встанут на одно и тоже место внутри контейнера. Контейнеру с картинками задаем display grid. А секциям картинок grid-area 1/1. 

```
.compare {
  position: relative;
  display: grid;

  > * {
    grid-area: 1 / 1;
  }

  > section {
    display: grid;
    place-content: center;
  }
```

Шаг 2. Превращаем инпут в вертикальную полоску. Для этого делаем прозрачным бэкраунд инпута, и вид стилизуем контролер. 

```
input[type="range"] {
    z-index: 2;
    appearance: none;
    background: transparent;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
  
    &::-webkit-slider-thumb {
      appearance: none;
      width: 2px;
      height: 100dvh;
      background-color: lightgray;
    }
    &::-moz-range-thumb {
      appearance: none;
      width: 2px;
      height: 100dvh;
      background-color: lightgray;
    }
  }
```

Шаг 3. Задаем каждой картинке маску, которая будет скрывать часть картинки.

```
.before {
   mask: linear-gradient(to right, #000 0, 50%, #0000 0);
}
.after {
  mask: linear-gradient(to right, #0000 0, 50%, #000 0);
}
```

Маска определяет прозрачность определенных областей элемента. Всё чёрное под маской остается видимым, всё прозрачное становится невидимым.
Если вставить этот градиент просто в свойство бэкраунд, то вы увидите наполовину черный, наполовину прозрачный элемент.

Отличие между `.before` и `.after` в данных строках кода заключается в порядке цветов в градиентах. В before градиентчерный до 50% потом прозрачный. В after с точностью наоборот.

Подставим вместо 50% - css переменную var(--pos). Меняя значения --pos, мы сможем смещать границу градиента в маске. 


Шаг 4. Меняем значение переменной, отвечающей за границу градиента в маске. В js вешаем листенер на input, и значение ползунка присаваеваем переменной --pos.

Готово!
